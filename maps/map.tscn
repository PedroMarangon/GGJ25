[gd_scene load_steps=17 format=3 uid="uid://b6ihhbt2rufpe"]

[ext_resource type="Script" path="res://maps/floor.gd" id="1_otb4v"]
[ext_resource type="PackedScene" uid="uid://cabq2bupdujyv" path="res://objects/timer.tscn" id="2_5feha"]
[ext_resource type="PackedScene" uid="uid://d4nnc7sjnxci2" path="res://objects/player/player.tscn" id="3_3koh1"]
[ext_resource type="PackedScene" uid="uid://ofrwtbcfkirp" path="res://objects/bubbles/ground_bubble/ground_bubble.tscn" id="3_7misl"]
[ext_resource type="Script" path="res://scripts/game_manager.gd" id="3_wrvt7"]
[ext_resource type="PackedScene" uid="uid://c562nfghl3e7s" path="res://objects/round_over_screen.tscn" id="3_y0db7"]
[ext_resource type="PackedScene" uid="uid://ynlsrescgkr6" path="res://objects/bubbles/floating_bubble/floating_bubble.tscn" id="5_p40ac"]
[ext_resource type="PackedScene" uid="uid://bhtmqa5l8njfe" path="res://objects/bubbles/mining_bubble/mining_bubble.tscn" id="8_55fta"]

[sub_resource type="CylinderMesh" id="CylinderMesh_coebl"]

[sub_resource type="CylinderShape3D" id="CylinderShape3D_fabxn"]

[sub_resource type="GDScript" id="GDScript_bg0ln"]
resource_name = "add_ui_to_bubbles"
script/source = "extends CanvasLayer


# Called when the node enters the scene tree for the first time.
func _ready():
	BubblePoints.p1_label = $\"PlayerPoints/BpPlayer1\"
	BubblePoints.p2_label = $\"PlayerPoints/BpPlayer2\"
	BubblePoints.p3_label = $\"PlayerPoints/BpPlayer3\"
	BubblePoints.p4_label = $\"PlayerPoints/BpPlayer4\"
	
	BubblePoints.update_ui()
"

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_ihvxs"]
albedo_color = Color(0, 1, 0.160178, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_0ikl1"]
albedo_color = Color(0, 0.225873, 1, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_2xjhe"]
albedo_color = Color(1, 0.0467469, 0.0616683, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_868nq"]
albedo_color = Color(1, 0.929063, 0, 1)

[sub_resource type="BoxShape3D" id="BoxShape3D_kfo4w"]
size = Vector3(2855.14, 1, 3162.87)

[node name="Map" type="Node3D"]

[node name="Floor" type="MeshInstance3D" parent="."]
transform = Transform3D(20.9342, 0, 1.83013e-06, 0, -0.210746, 0, -1.83013e-06, 0, 20.9342, 0, 0, 0.708752)
mesh = SubResource("CylinderMesh_coebl")
script = ExtResource("1_otb4v")

[node name="StaticBody3D" type="StaticBody3D" parent="Floor"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Floor/StaticBody3D"]
shape = SubResource("CylinderShape3D_fabxn")

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(-1, 5.96222e-08, -6.3937e-08, 0, 0.731354, 0.681998, 8.74228e-08, 0.681998, -0.731354, -0.0216932, 14.6439, -14.4789)
projection = 1
fov = 79.9198
size = 16.238

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 15.6929, 13.7691, -8.48451)
shadow_enabled = true

[node name="CanvasLayer" type="CanvasLayer" parent="."]
script = SubResource("GDScript_bg0ln")

[node name="PlayerPoints" type="Control" parent="CanvasLayer"]
unique_name_in_owner = true
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="BpPlayer1" type="Label" parent="CanvasLayer/PlayerPoints"]
layout_mode = 0
offset_left = 18.0
offset_top = 15.0
offset_right = 209.0
offset_bottom = 38.0
theme_override_font_sizes/font_size = 16
text = "Bubble points player 1: 0"

[node name="BpPlayer2" type="Label" parent="CanvasLayer/PlayerPoints"]
layout_mode = 0
offset_left = 936.455
offset_top = 15.0
offset_right = 1127.46
offset_bottom = 38.0
theme_override_font_sizes/font_size = 16
text = "Bubble points player 2: 0"

[node name="BpPlayer3" type="Label" parent="CanvasLayer/PlayerPoints"]
layout_mode = 0
offset_left = 18.0
offset_top = 605.295
offset_right = 209.0
offset_bottom = 628.295
theme_override_font_sizes/font_size = 16
text = "Bubble points player 3: 0"

[node name="BpPlayer4" type="Label" parent="CanvasLayer/PlayerPoints"]
layout_mode = 0
offset_left = 936.46
offset_top = 605.295
offset_right = 1127.46
offset_bottom = 628.295
theme_override_font_sizes/font_size = 16
text = "Bubble points player 4: 0"

[node name="Timer" parent="CanvasLayer" instance=ExtResource("2_5feha")]
unique_name_in_owner = true
offset_left = 565.735
offset_top = 15.0
offset_right = -540.265
offset_bottom = -609.0
horizontal_alignment = 1
remaining_time_seconds = 120

[node name="RoundOverScreen" parent="CanvasLayer" instance=ExtResource("3_y0db7")]
unique_name_in_owner = true

[node name="GameManager" type="Node" parent="."]
script = ExtResource("3_wrvt7")

[node name="Player" parent="." instance=ExtResource("3_3koh1")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6.69792, 2.15169, 6.98227)
material = SubResource("StandardMaterial3D_ihvxs")

[node name="Player2" parent="." instance=ExtResource("3_3koh1")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -7.00689, 2.15169, 5.92241)
material = SubResource("StandardMaterial3D_0ikl1")
id = 1

[node name="Player3" parent="." instance=ExtResource("3_3koh1")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6.7798, 2.15169, -5.19559)
material = SubResource("StandardMaterial3D_2xjhe")
id = 2

[node name="Player4" parent="." instance=ExtResource("3_3koh1")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6.74703, 2.15169, -5.19559)
material = SubResource("StandardMaterial3D_868nq")
id = 3

[node name="GroundBubbles" type="Node3D" parent="."]

[node name="GroundBubble" parent="GroundBubbles" instance=ExtResource("3_7misl")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2, 0.239626, 3)

[node name="GroundBubble2" parent="GroundBubbles" instance=ExtResource("3_7misl")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.66805, 0.239626, 2.41287)

[node name="GroundBubble3" parent="GroundBubbles" instance=ExtResource("3_7misl")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.668048, 0.239626, 2.41287)

[node name="GroundBubble4" parent="GroundBubbles" instance=ExtResource("3_7misl")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.24004, 0.239626, 2.94713)

[node name="GroundBubble5" parent="GroundBubbles" instance=ExtResource("3_7misl")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.611274, 0.239626, 3.64818)

[node name="GroundBubble6" parent="GroundBubbles" instance=ExtResource("3_7misl")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.06105, 0.239626, 3.0956)

[node name="GroundBubble7" parent="GroundBubbles" instance=ExtResource("3_7misl")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.04035, 0.239626, 3.32424)

[node name="GroundBubble8" parent="GroundBubbles" instance=ExtResource("3_7misl")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.94259, 0.239626, 5.29377)

[node name="GroundBubble9" parent="GroundBubbles" instance=ExtResource("3_7misl")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.01911, 0.239626, 6.29022)

[node name="GroundBubble10" parent="GroundBubbles" instance=ExtResource("3_7misl")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.666957, 0.239626, 6.87531)

[node name="GroundBubble11" parent="GroundBubbles" instance=ExtResource("3_7misl")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.13097, 0.239626, 7.24225)

[node name="GroundBubble12" parent="GroundBubbles" instance=ExtResource("3_7misl")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.07118, 0.239626, 6.11485)

[node name="FloatingBubbles" type="Node3D" parent="."]

[node name="FloatingBubble" parent="FloatingBubbles" instance=ExtResource("5_p40ac")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2, 0, -2)

[node name="FloatingBubble2" parent="FloatingBubbles" instance=ExtResource("5_p40ac")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6, 0, 1)

[node name="MiningBubble" parent="." instance=ExtResource("8_55fta")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.09093, 1.20681, -0.917902)

[node name="DeathArea" type="Area3D" parent="."]

[node name="CollisionShape3D" type="CollisionShape3D" parent="DeathArea"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.14204, -17.5682, -0.76073)
shape = SubResource("BoxShape3D_kfo4w")

[connection signal="body_entered" from="DeathArea" to="GameManager" method="_on_death_area_body_entered"]
